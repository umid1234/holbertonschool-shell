#!/bin/bash
# Read from standard input (Apache log file)
awk '
{
    # Extract IP address (first field) and HTTP status code (9th field)
    ip = $1
    status = $9
    
    # Create a unique key combining IP and status code
    key = ip " " status
    
    # Count occurrences of each IP-status combination
    count[key]++
}

END {
    # After processing all lines, output the results
    for (key in count) {
        printf "%5d %s\n", count[key], key
    }
}' | sort -rn
